{"ast":null,"code":"import _classCallCheck from\"E:/REACT-STEPHEN GRINDER/Search-Pics-App/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/REACT-STEPHEN GRINDER/Search-Pics-App/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/REACT-STEPHEN GRINDER/Search-Pics-App/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/REACT-STEPHEN GRINDER/Search-Pics-App/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var ImageCard=/*#__PURE__*/function(_React$Component){_inherits(ImageCard,_React$Component);var _super=_createSuper(ImageCard);function ImageCard(props){var _this;_classCallCheck(this,ImageCard);_this=_super.call(this,props);_this.setSpans=function(){var height=_this.imageRef.current.clientHeight;var spans=Math.ceil(height/10);//10 it the rows needed for image\n_this.setState({spans:spans});};_this.state={spans:0};_this.imageRef=/*#__PURE__*/React.createRef();return _this;}_createClass(ImageCard,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(this.imageRef);\n// console.log(this.imageRef.current.clientHeight);// this will give the image heigh as 0. reason : we are asking for heigh of image in-fact before loading it that is why it is giving up as 0. so asking for image in componentDidMount() can be too early.\n//solution for this:\nthis.imageRef.current.addEventListener('load',this.setSpans);//this will make sure the image is downloaded and displayed on the dom then we console log the image height in set spans\n}// it will mount when component get rendered\n},{key:\"render\",value:function render(){var _this$props$image=this.props.image,description=_this$props$image.description,urls=_this$props$image.urls;return/*#__PURE__*/_jsx(\"div\",{style:{gridRowEnd:\"span \".concat(this.state.spans)},children:/*#__PURE__*/_jsx(\"img\",{ref:this.imageRef,alt:description,src:urls.regular})});}}]);return ImageCard;}(React.Component);export default ImageCard;","map":{"version":3,"names":["React","ImageCard","props","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","setState","state","createRef","addEventListener","image","description","urls","gridRowEnd","regular","Component"],"sources":["E:/REACT-STEPHEN GRINDER/Search-Pics-App/src/components/ImageCard.js"],"sourcesContent":["import React from \"react\";\r\n\r\nclass ImageCard extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={spans:0 };\r\n        this.imageRef=React.createRef();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        // console.log(this.imageRef);\r\n        // console.log(this.imageRef.current.clientHeight);// this will give the image heigh as 0. reason : we are asking for heigh of image in-fact before loading it that is why it is giving up as 0. so asking for image in componentDidMount() can be too early.\r\n\r\n        //solution for this:\r\n        this.imageRef.current.addEventListener('load',this.setSpans);//this will make sure the image is downloaded and displayed on the dom then we console log the image height in set spans\r\n\r\n      }// it will mount when component get rendered\r\n\r\n      setSpans=()=>{\r\n        const height= this.imageRef.current.clientHeight;\r\n        const spans= Math.ceil(height/10);//10 it the rows needed for image\r\n        this.setState({spans});\r\n      }\r\n    render(){\r\n        const{description,urls}=this.props.image;\r\n        return(\r\n                <div style={{gridRowEnd: `span ${this.state.spans}`}}>\r\n                    <img ref={this.imageRef} alt={description} src={urls.regular}/>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageCard;"],"mappings":"weAAA,MAAOA,MAAP,KAAkB,OAAlB,C,8CAEMC,U,kHACF,mBAAYC,KAAZ,CAAkB,2CACd,uBAAMA,KAAN,EADc,MAgBhBC,QAhBgB,CAgBP,UAAI,CACX,GAAMC,OAAM,CAAE,MAAKC,QAAL,CAAcC,OAAd,CAAsBC,YAApC,CACA,GAAMC,MAAK,CAAEC,IAAI,CAACC,IAAL,CAAUN,MAAM,CAAC,EAAjB,CAAb,CAAkC;AAClC,MAAKO,QAAL,CAAc,CAACH,KAAK,CAALA,KAAD,CAAd,EACD,CApBe,CAEd,MAAKI,KAAL,CAAW,CAACJ,KAAK,CAAC,CAAP,CAAX,CACA,MAAKH,QAAL,cAAcL,KAAK,CAACa,SAAN,EAAd,CAHc,aAKjB,C,uDAED,4BAAoB,CAChB;AACA;AAEA;AACA,KAAKR,QAAL,CAAcC,OAAd,CAAsBQ,gBAAtB,CAAuC,MAAvC,CAA8C,KAAKX,QAAnD,EAA6D;AAE9D;sBAOH,iBAAQ,CACJ,sBAAwB,KAAKD,KAAL,CAAWa,KAAnC,CAAMC,WAAN,mBAAMA,WAAN,CAAkBC,IAAlB,mBAAkBA,IAAlB,CACA,mBACQ,YAAK,KAAK,CAAE,CAACC,UAAU,gBAAU,KAAKN,KAAL,CAAWJ,KAArB,CAAX,CAAZ,uBACI,YAAK,GAAG,CAAE,KAAKH,QAAf,CAAyB,GAAG,CAAEW,WAA9B,CAA2C,GAAG,CAAEC,IAAI,CAACE,OAArD,EADJ,EADR,CAKH,C,uBA7BmBnB,KAAK,CAACoB,S,EAgC9B,cAAenB,UAAf"},"metadata":{},"sourceType":"module"}